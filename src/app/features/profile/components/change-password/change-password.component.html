<form [formGroup]="passwordForm" (ngSubmit)="savePassword()" class="password-form">
    <h2>Change Password</h2>
    <p class="subtitle">For your security, please provide your current password to make changes.</p>
    
    <div class="form-grid">
        <app-input
        label="Current Password"
        type="password"
        formControlName="currentPassword"
        [control]="currentPasswordCtrl"
        [validationMessages]="{
            required: 'Current password is required.',
            minlength: 'Current password must be at least 8 characters.',
            maxlength: 'Current password cannot exceed 100 characters.'
        }"
        ></app-input>
    
        <app-input
        label="New Password"
        type="password"
        formControlName="newPassword"
        placeholder="Min. 8 characters"
        [control]="newPasswordCtrl"
        [validationMessages]="{
            required: 'New password is required.',
            minlength: 'New password must be at least 6 characters.',
            maxlength: 'New password cannot exceed 100 characters.'
        }"
        ></app-input>
    
        <app-input
        label="Confirm New Password"
        type="password"
        formControlName="confirmPassword"
        placeholder="Re-enter your new password"
        [control]="confirmPasswordCtrl"
        [validationMessages]="{
            required: 'Please confirm your new password.',
            mustMatch: 'Passwords must match.'
        }"
        ></app-input>
    </div>
    
    <div class="form-actions">
        <app-button
        type="submit"
        [loading]="(isLoading$ | async) ?? false"
        [disabled]="
            !passwordForm.dirty ||
            passwordForm.invalid ||
            ((isLoading$ | async) ?? false)
        "
        >
        Update Password
        </app-button>
    </div>
</form>