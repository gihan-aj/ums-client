<app-tabs-container>
  <!-- Profile Tab -->
  <app-tab-panel title="Profile">
    <!-- The profile form component goes here -->
    <app-user-profile-form
      [user]="user"
      [isEditMode]="isEditMode">
    </app-user-profile-form>
  </app-tab-panel>

   <!-- Roles Tab -->
  <app-tab-panel title="Roles" [disabled]="!isEditMode">
    <!-- The roles management component now goes here -->
    <app-user-roles-form
      [user]="user"
      [isEditMode]="isEditMode">
    </app-user-roles-form>
  </app-tab-panel>
  
  <app-tab-panel title="Effective Permissions">
    <app-user-permissions [permissions]="isEditMode ? (previewPermissions ?? []) : user.permissions"></app-user-permissions>
  </app-tab-panel>
</app-tabs-container>
